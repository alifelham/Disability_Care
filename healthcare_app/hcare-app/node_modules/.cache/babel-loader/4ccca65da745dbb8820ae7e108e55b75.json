{"ast":null,"code":"var _jsxFileName = \"/Users/mohammadjunayedhasan/Documents/spring-boot-react-oauth2-social-login-demo-master/Local Work Healthcare 2/healthcare_app/hcare-app/src/user/oauth2/OAuth2RedirectHandler.js\";\nimport React, { Component } from 'react';\nimport { ACCESS_TOKEN } from '../../constants';\nimport { Redirect } from 'react-router-dom';\nimport { getCurrentUser } from '../../util/APIUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass OAuth2RedirectHandler extends Component {\n  getUrlParameter(name) {\n    name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n    var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n    var results = regex.exec(this.props.location.search);\n    return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n  }\n\n  render() {\n    const token = this.getUrlParameter('token');\n    const error = this.getUrlParameter('error');\n\n    if (token) {\n      localStorage.setItem(ACCESS_TOKEN, token);\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: \"/phome\",\n          state: {\n            from: this.props.location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: \"/login\",\n          state: {\n            from: this.props.location,\n            error: error\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n}\n\nexport default OAuth2RedirectHandler;","map":{"version":3,"names":["React","Component","ACCESS_TOKEN","Redirect","getCurrentUser","OAuth2RedirectHandler","getUrlParameter","name","replace","regex","RegExp","results","exec","props","location","search","decodeURIComponent","render","token","error","localStorage","setItem","pathname","state","from"],"sources":["/Users/mohammadjunayedhasan/Documents/spring-boot-react-oauth2-social-login-demo-master/Local Work Healthcare 2/healthcare_app/hcare-app/src/user/oauth2/OAuth2RedirectHandler.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { ACCESS_TOKEN } from '../../constants';\nimport { Redirect } from 'react-router-dom'\nimport { getCurrentUser } from '../../util/APIUtils';\n\nclass OAuth2RedirectHandler extends Component {\n    getUrlParameter(name) {\n        name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n        var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n\n        var results = regex.exec(this.props.location.search);\n        return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n    };\n\n    render() {        \n        const token = this.getUrlParameter('token');\n        const error = this.getUrlParameter('error');\n        \n        if(token) {\n            localStorage.setItem(ACCESS_TOKEN, token);\n            \n            return <Redirect to={{\n                pathname: \"/phome\",\n                state: { from: this.props.location }\n            }}/>; \n        } else {\n            return <Redirect to={{\n                pathname: \"/login\",\n                state: { \n                    from: this.props.location,\n                    error: error \n                }\n            }}/>; \n        }\n    }\n}\n\nexport default OAuth2RedirectHandler;"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,cAAT,QAA+B,qBAA/B;;;AAEA,MAAMC,qBAAN,SAAoCJ,SAApC,CAA8C;EAC1CK,eAAe,CAACC,IAAD,EAAO;IAClBA,IAAI,GAAGA,IAAI,CAACC,OAAL,CAAa,MAAb,EAAqB,KAArB,EAA4BA,OAA5B,CAAoC,MAApC,EAA4C,KAA5C,CAAP;IACA,IAAIC,KAAK,GAAG,IAAIC,MAAJ,CAAW,WAAWH,IAAX,GAAkB,WAA7B,CAAZ;IAEA,IAAII,OAAO,GAAGF,KAAK,CAACG,IAAN,CAAW,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAA/B,CAAd;IACA,OAAOJ,OAAO,KAAK,IAAZ,GAAmB,EAAnB,GAAwBK,kBAAkB,CAACL,OAAO,CAAC,CAAD,CAAP,CAAWH,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAD,CAAjD;EACH;;EAEDS,MAAM,GAAG;IACL,MAAMC,KAAK,GAAG,KAAKZ,eAAL,CAAqB,OAArB,CAAd;IACA,MAAMa,KAAK,GAAG,KAAKb,eAAL,CAAqB,OAArB,CAAd;;IAEA,IAAGY,KAAH,EAAU;MACNE,YAAY,CAACC,OAAb,CAAqBnB,YAArB,EAAmCgB,KAAnC;MAEA,oBAAO,QAAC,QAAD;QAAU,EAAE,EAAE;UACjBI,QAAQ,EAAE,QADO;UAEjBC,KAAK,EAAE;YAAEC,IAAI,EAAE,KAAKX,KAAL,CAAWC;UAAnB;QAFU;MAAd;QAAA;QAAA;QAAA;MAAA,QAAP;IAIH,CAPD,MAOO;MACH,oBAAO,QAAC,QAAD;QAAU,EAAE,EAAE;UACjBQ,QAAQ,EAAE,QADO;UAEjBC,KAAK,EAAE;YACHC,IAAI,EAAE,KAAKX,KAAL,CAAWC,QADd;YAEHK,KAAK,EAAEA;UAFJ;QAFU;MAAd;QAAA;QAAA;QAAA;MAAA,QAAP;IAOH;EACJ;;AA7ByC;;AAgC9C,eAAed,qBAAf"},"metadata":{},"sourceType":"module"}